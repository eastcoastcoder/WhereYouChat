{"version":3,"sources":["resources/leaflet.draw/draw/handler/Draw.Feature.js"],"names":["L","Draw","Feature","Handler","extend","initialize","map","options","_map","_container","_overlayPane","_panes","overlayPane","_popupPane","popupPane","shapeOptions","Util","setOptions","version","split","parseInt","include","Evented","prototype","Mixin","Events","enable","_enabled","call","fire","handler","type","Event","DRAWSTART","layerType","disable","DRAWSTOP","addHooks","DomUtil","disableTextSelection","getContainer","focus","_tooltip","Tooltip","DomEvent","on","_cancelDrawing","removeHooks","enableTextSelection","dispose","off","_fireCreatedEvent","layer","CREATED","e","keyCode"],"mappings":";AAAAA,EAAEC,KAAOD,EAAEC,MAAQ,GAMnBD,EAAEC,KAAKC,QAAUF,EAAEG,QAAQC,OAAO,CAGjCC,WAAY,SAAUC,EAAKC,GACrBC,KAAAA,KAAOF,EACPG,KAAAA,WAAaH,EAAIG,WACjBC,KAAAA,aAAeJ,EAAIK,OAAOC,YAC1BC,KAAAA,WAAaP,EAAIK,OAAOG,UAGzBP,GAAWA,EAAQQ,eACtBR,EAAQQ,aAAef,EAAEgB,KAAKZ,OAAO,GAAI,KAAKG,QAAQQ,aAAcR,EAAQQ,eAE7Ef,EAAEiB,WAAW,KAAMV,GAEfW,IAAAA,EAAUlB,EAAEkB,QAAQC,MAAM,KAEG,IAA7BC,SAASF,EAAQ,GAAI,KAAaE,SAASF,EAAQ,GAAI,KAAO,EACjElB,EAAEC,KAAKC,QAAQmB,QAAQrB,EAAEsB,QAAQC,WAEjCvB,EAAEC,KAAKC,QAAQmB,QAAQrB,EAAEwB,MAAMC,SAMjCC,OAAQ,WACH,KAAKC,WAIT3B,EAAEG,QAAQoB,UAAUG,OAAOE,KAAK,MAE3BC,KAAAA,KAAK,UAAW,CAACC,QAAS,KAAKC,OAE/BvB,KAAAA,KAAKqB,KAAK7B,EAAEC,KAAK+B,MAAMC,UAAW,CAACC,UAAW,KAAKH,SAIzDI,QAAS,WACH,KAAKR,WAIV3B,EAAEG,QAAQoB,UAAUY,QAAQP,KAAK,MAE5BpB,KAAAA,KAAKqB,KAAK7B,EAAEC,KAAK+B,MAAMI,SAAU,CAACF,UAAW,KAAKH,OAElDF,KAAAA,KAAK,WAAY,CAACC,QAAS,KAAKC,SAKtCM,SAAU,WACL/B,IAAAA,EAAM,KAAKE,KAEXF,IACHN,EAAEsC,QAAQC,uBAEVjC,EAAIkC,eAAeC,QAEdC,KAAAA,SAAW,IAAI1C,EAAEC,KAAK0C,QAAQ,KAAKnC,MAExCR,EAAE4C,SAASC,GAAG,KAAKpC,WAAY,QAAS,KAAKqC,eAAgB,QAM/DC,YAAa,WACR,KAAKvC,OACRR,EAAEsC,QAAQU,sBAELN,KAAAA,SAASO,UACTP,KAAAA,SAAW,KAEhB1C,EAAE4C,SAASM,IAAI,KAAKzC,WAAY,QAAS,KAAKqC,eAAgB,QAMhE7B,WAAY,SAAUV,GACrBP,EAAEiB,WAAW,KAAMV,IAGpB4C,kBAAmB,SAAUC,GACvB5C,KAAAA,KAAKqB,KAAK7B,EAAEC,KAAK+B,MAAMqB,QAAS,CAACD,MAAOA,EAAOlB,UAAW,KAAKH,QAIrEe,eAAgB,SAAUQ,GACP,KAAdA,EAAEC,UACA/C,KAAAA,KAAKqB,KAAK,gBAAiB,CAACK,UAAW,KAAKH,OAC5CI,KAAAA","file":"Draw.Feature.3df982d6.map","sourceRoot":"..","sourcesContent":["L.Draw = L.Draw || {};\n\n/**\n * @class L.Draw.Feature\n * @aka Draw.Feature\n */\nL.Draw.Feature = L.Handler.extend({\n\n\t// @method initialize(): void\n\tinitialize: function (map, options) {\n\t\tthis._map = map;\n\t\tthis._container = map._container;\n\t\tthis._overlayPane = map._panes.overlayPane;\n\t\tthis._popupPane = map._panes.popupPane;\n\n\t\t// Merge default shapeOptions options with custom shapeOptions\n\t\tif (options && options.shapeOptions) {\n\t\t\toptions.shapeOptions = L.Util.extend({}, this.options.shapeOptions, options.shapeOptions);\n\t\t}\n\t\tL.setOptions(this, options);\n\n\t\tvar version = L.version.split('.');\n\t\t//If Version is >= 1.2.0\n\t\tif (parseInt(version[0], 10) === 1 && parseInt(version[1], 10) >= 2) {\n\t\t\tL.Draw.Feature.include(L.Evented.prototype);\n\t\t} else {\n\t\t\tL.Draw.Feature.include(L.Mixin.Events);\n\t\t}\n\t},\n\n\t// @method enable(): void\n\t// Enables this handler\n\tenable: function () {\n\t\tif (this._enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tL.Handler.prototype.enable.call(this);\n\n\t\tthis.fire('enabled', {handler: this.type});\n\n\t\tthis._map.fire(L.Draw.Event.DRAWSTART, {layerType: this.type});\n\t},\n\n\t// @method disable(): void\n\tdisable: function () {\n\t\tif (!this._enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tL.Handler.prototype.disable.call(this);\n\n\t\tthis._map.fire(L.Draw.Event.DRAWSTOP, {layerType: this.type});\n\n\t\tthis.fire('disabled', {handler: this.type});\n\t},\n\n\t// @method addHooks(): void\n\t// Add's event listeners to this handler\n\taddHooks: function () {\n\t\tvar map = this._map;\n\n\t\tif (map) {\n\t\t\tL.DomUtil.disableTextSelection();\n\n\t\t\tmap.getContainer().focus();\n\n\t\t\tthis._tooltip = new L.Draw.Tooltip(this._map);\n\n\t\t\tL.DomEvent.on(this._container, 'keyup', this._cancelDrawing, this);\n\t\t}\n\t},\n\n\t// @method removeHooks(): void\n\t// Removes event listeners from this handler\n\tremoveHooks: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.enableTextSelection();\n\n\t\t\tthis._tooltip.dispose();\n\t\t\tthis._tooltip = null;\n\n\t\t\tL.DomEvent.off(this._container, 'keyup', this._cancelDrawing, this);\n\t\t}\n\t},\n\n\t// @method setOptions(object): void\n\t// Sets new options to this handler\n\tsetOptions: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\t_fireCreatedEvent: function (layer) {\n\t\tthis._map.fire(L.Draw.Event.CREATED, {layer: layer, layerType: this.type});\n\t},\n\n\t// Cancel drawing when the escape key is pressed\n\t_cancelDrawing: function (e) {\n\t\tif (e.keyCode === 27) {\n\t\t\tthis._map.fire('draw:canceled', {layerType: this.type});\n\t\t\tthis.disable();\n\t\t}\n\t}\n});\n"]}