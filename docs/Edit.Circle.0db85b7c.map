{"version":3,"sources":["resources/leaflet.draw/edit/handler/Edit.Circle.js"],"names":["L","Edit","Circle","CircleMarker","extend","_createResizeMarker","center","_shape","getLatLng","resizemarkerPoint","_getResizeMarkerPoint","_resizeMarkers","push","_createMarker","options","resizeIcon","latlng","delta","_radius","Math","cos","PI","point","_map","project","unproject","x","y","_resize","moveLatLng","_moveMarker","GeometryUtil","isVersion07x","radius","distanceTo","distance","setRadius","editTooltip","_editTooltip","updateContent","text","drawLocal","edit","handlers","tooltip","subtext","draw","circle","readableDistance","feet","nautic","fire","Draw","Event","EDITRESIZE","layer","addInitHook","editing","editable","enable","on","enabled","addHooks","removeHooks"],"mappings":";AAAAA,EAAEC,KAAOD,EAAEC,MAAQ,GAMnBD,EAAEC,KAAKC,OAASF,EAAEC,KAAKE,aAAaC,OAAO,CAE1CC,oBAAqB,WAChBC,IAAAA,EAAS,KAAKC,OAAOC,YACxBC,EAAoB,KAAKC,sBAAsBJ,GAE3CK,KAAAA,eAAiB,GACjBA,KAAAA,eAAeC,KAAK,KAAKC,cAAcJ,EAAmB,KAAKK,QAAQC,cAG7EL,sBAAuB,SAAUM,GAE5BC,IAAAA,EAAQ,KAAKV,OAAOW,QAAUC,KAAKC,IAAID,KAAKE,GAAK,GACpDC,EAAQ,KAAKC,KAAKC,QAAQR,GACpB,OAAA,KAAKO,KAAKE,UAAU,CAACH,EAAMI,EAAIT,EAAOK,EAAMK,EAAIV,KAGxDW,QAAS,SAAUZ,GACda,IAAAA,EAAa,KAAKC,YAAYtB,YAG9BR,EAAE+B,aAAaC,eAClBC,OAASJ,EAAWK,WAAWlB,GAE/BiB,OAAS,KAAKV,KAAKY,SAASN,EAAYb,GAEpCT,KAAAA,OAAO6B,UAAUH,QAElB,KAAKV,KAAKc,aACRd,KAAAA,KAAKe,aAAaC,cAAc,CACpCC,KAAMxC,EAAEyC,UAAUC,KAAKC,SAASD,KAAKE,QAAQC,QAAU,SAAW7C,EAAEyC,UAAUC,KAAKC,SAASD,KAAKE,QAAQJ,KACzGK,QAAS7C,EAAEyC,UAAUK,KAAKH,SAASI,OAAOd,OAAS,KACnDjC,EAAE+B,aAAaiB,iBAAiBf,QAAQ,EAAM,KAAKnB,QAAQmC,KAAM,KAAKnC,QAAQoC,UAI3E3C,KAAAA,OAAO6B,UAAUH,QAEjBV,KAAAA,KAAK4B,KAAKnD,EAAEoD,KAAKC,MAAMC,WAAY,CAACC,MAAO,KAAKhD,YAIvDP,EAAEE,OAAOsD,YAAY,WAChBxD,EAAEC,KAAKC,SACLuD,KAAAA,QAAU,IAAIzD,EAAEC,KAAKC,OAAO,MAE7B,KAAKY,QAAQ4C,UACXD,KAAAA,QAAQE,UAIVC,KAAAA,GAAG,MAAO,WACV,KAAKH,SAAW,KAAKA,QAAQI,WAC3BJ,KAAAA,QAAQK,aAIVF,KAAAA,GAAG,SAAU,WACb,KAAKH,SAAW,KAAKA,QAAQI,WAC3BJ,KAAAA,QAAQM","file":"Edit.Circle.0db85b7c.map","sourceRoot":"..","sourcesContent":["L.Edit = L.Edit || {};\n/**\n * @class L.Edit.Circle\n * @aka Edit.Circle\n * @inherits L.Edit.CircleMarker\n */\nL.Edit.Circle = L.Edit.CircleMarker.extend({\n\n\t_createResizeMarker: function () {\n\t\tvar center = this._shape.getLatLng(),\n\t\t\tresizemarkerPoint = this._getResizeMarkerPoint(center);\n\n\t\tthis._resizeMarkers = [];\n\t\tthis._resizeMarkers.push(this._createMarker(resizemarkerPoint, this.options.resizeIcon));\n\t},\n\n\t_getResizeMarkerPoint: function (latlng) {\n\t\t// From L.shape.getBounds()\n\t\tvar delta = this._shape._radius * Math.cos(Math.PI / 4),\n\t\t\tpoint = this._map.project(latlng);\n\t\treturn this._map.unproject([point.x + delta, point.y - delta]);\n\t},\n\n\t_resize: function (latlng) {\n\t\tvar moveLatLng = this._moveMarker.getLatLng();\n\n\t\t// Calculate the radius based on the version\n\t\tif (L.GeometryUtil.isVersion07x()) {\n\t\t\tradius = moveLatLng.distanceTo(latlng);\n\t\t} else {\n\t\t\tradius = this._map.distance(moveLatLng, latlng);\n\t\t}\n\t\tthis._shape.setRadius(radius);\n\n\t\tif (this._map.editTooltip) {\n\t\t\tthis._map._editTooltip.updateContent({\n\t\t\t\ttext: L.drawLocal.edit.handlers.edit.tooltip.subtext + '<br />' + L.drawLocal.edit.handlers.edit.tooltip.text,\n\t\t\t\tsubtext: L.drawLocal.draw.handlers.circle.radius + ': ' +\n\t\t\t\tL.GeometryUtil.readableDistance(radius, true, this.options.feet, this.options.nautic)\n\t\t\t});\n\t\t}\n\n\t\tthis._shape.setRadius(radius);\n\n\t\tthis._map.fire(L.Draw.Event.EDITRESIZE, {layer: this._shape});\n\t}\n});\n\nL.Circle.addInitHook(function () {\n\tif (L.Edit.Circle) {\n\t\tthis.editing = new L.Edit.Circle(this);\n\n\t\tif (this.options.editable) {\n\t\t\tthis.editing.enable();\n\t\t}\n\t}\n\n\tthis.on('add', function () {\n\t\tif (this.editing && this.editing.enabled()) {\n\t\t\tthis.editing.addHooks();\n\t\t}\n\t});\n\n\tthis.on('remove', function () {\n\t\tif (this.editing && this.editing.enabled()) {\n\t\t\tthis.editing.removeHooks();\n\t\t}\n\t});\n});\n"]}